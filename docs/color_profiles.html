<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Clone Hero Viewer - Color Profiles</title>
    <link rel="stylesheet" href="nav_bar.css">

    <!-- Minimal CSS to preserve color profiles layout -->
    <style>
        /* Swatch container and individual swatches */
        .swatch-container {
            display: flex;
            gap: 5px;
            margin-top: 5px;
        }

        .swatch {
            width: 50px;
            height: 50px;
            border: 1px solid var(--secondary-purple);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            color: var(--text-primary);
        }

        /* <details> spacing */
        details {
            margin-bottom: 10px;
        }

        /* Thumbnails section (if needed for future highways) */
        #highways {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .thumbnail {
            display: inline-block;
            text-align: center;
            width: 150px;
        }

        .thumbnail img {
            width: 150px;
            height: 150px;
            object-fit: contain;
            display: block;
            margin-bottom: 5px;
        }
    </style>
</head>
<body>

<h1>Clone Hero Viewer - Color Profiles</h1>

<nav>
    <a href="index.html">Home</a>
    <a href="color_profiles.html">Color Profiles</a>
    <a href="highways.html">Highways</a>
    <a href="Image_bgs.html">Image Backgrounds</a>
    <a href="Video_bgs.html">Video Backgrounds</a>
    <a href="Video_highways.html">Video Highways</a>
</nav>

<p id="scanMode">Loading scan modeâ€¦</p>

<h2>Highways</h2>
<div id="highways"></div>

<h2>Color Profiles</h2>
<div id="colorProfiles"></div>

<script>
fetch('scan_summary.json')
.then(response => response.json())
.then(data => {
    // Display scan mode
    document.getElementById('scanMode').textContent =
        `Scan Mode: ${data.scan_mode || "Unknown"}`;

    // Populate Color Profiles
    const profilesContainer = document.getElementById('colorProfiles');
    if(data.color_profiles_data) {
        data.color_profiles_data.forEach(profile => {
            const section = document.createElement('details');
            section.open = true; // expanded by default

            const summary = document.createElement('summary');
            summary.textContent = profile.filename;
            section.appendChild(summary);

            const swatchContainer = document.createElement('div');
            swatchContainer.className = 'swatch-container';

            ['note_green','note_red','note_yellow','note_blue','note_orange','note_sp_active','note_open']
                .forEach(field => {
                    const swatch = document.createElement('div');
                    swatch.className = 'swatch';
                    const value = profile[field];
                    if(value) {
                        swatch.style.backgroundColor = value;
                    } else {
                        swatch.textContent = 'X';
                    }
                    swatchContainer.appendChild(swatch);
                });

            section.appendChild(swatchContainer);
            profilesContainer.appendChild(section);
        });
    }
})
.catch(error => console.error('Error loading scan_summary.json:', error));
</script>

</body>
</html>
